<!DOCTYPE html>
<html>
    <head>
    <title>TIC TAC TOE! </title>
        <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-2.1.4.min.js">     
     </script>
    <style>
        td{
            width: 33%;
            border: 2px solid black;
            text-align: center;
            font-size: 40px;
            padding: 50px;
            height: 60px;
        }   
        table{
            width: 40%;
            margin: 0 auto;
    </style>
    <link rel="icon" 
      type="image/png" 
      href="image/tictactoe.png" />
    </head>
    <body>
        <table>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table><br>
        <center>
            <h1>Toggle Mode: <span id="mode">2</span> player</h1>
        </center>
        <center>
            <button class="boton" onclick="xClick();"> FIll grid with X</button>
            <button class="boton" onclick="clearGrid();">RESET</button>
            <button class="boton" onclick="oClick();"> FIll grid with O</button><br><br>
            <button class="boton" onclick="changeColor();">Change The Color</button><br><br>
            <button class="boton" onclick="toggleMode();">toggleMode</button>
        </center>
        <script>
            
            var clickCounter = 0;
            
            attachEvents();
            
            function attachEvents(){
                $("td").on("click", function(){
                    if(clickCounter % 2 == 0){
                    $(this).html("X");
                    }
                    else{
                    $(this).html("O");
                    }
                    clickCounter++;    
                    $(this).unbind("click");
                    if ($("#mode").html()==="1"){
                        var found = false;
                       $.each( $("td"),function(index,element){
                           if( $(element).html() ==="" && !found){
                                $(element).html("O");
                                found = true;
                           }
                       });
                    clickCounter++;
                    }
                              
                });
            }
            function xClick(){
                $("td").html("X");
            }
            function oClick(){
                $("td").html("O");
            }
            function clearGrid(){                
                $("td").unbind("click");
                $("td").html("");
                clickCounter=0;
                attachEvents();
            }
            function changeColor(){  
                var col = Math.round(Math.random()*255);
                var colorx = "rgb(" + col + "," + col + "," + col + ")";
                $("td").css("background-color", colorx);
                if (col<75){
                    $("td").css("color", "white");
                }
                else{
                    $("td").css("color", "black");
                    
                }
            }
            function toggleMode(){
                var curMode = $("#mode").html();
                    if(curMode === "1")
                $("#mode").html("2");
            else
                $("#mode").html("1");
            clearGrid();
            }
            

                
        </script>
    </body>
</html>